---
title: "我把公司园区做成了枪战游戏地图！"
description: "我把公司园区做成了枪战游戏地图！"
date: 2021-02-27T12:00:14+08:00
categories:
  - 折腾
tags:
  - 游戏开发
  - B站视频
---

## 简介

春节七天自制FPS游戏《Code FPS》。求大佬们兄弟姐妹们给个三连！！！

高中的时候就想把学校做成CS地图，但是一直没做成，工程量太大。这么多年过去了，最近天时地利人和，便把广州信息港做成了个单机FPS游戏的地图。基于unity自带的FPS demo，做了部分改动，然后用航拍照片对信息港做三维重建，游戏就出来了。整个游戏通关大约需要8分钟。

（我看看有没有人能知道BGM是什么

## 游戏下载

```
文件名：CodeFPS.7z
SHA1校验：: 31ea583f92843eb5432c4101fad5f639758ef131
百度网盘：https://pan.baidu.com/s/1JUqYKTrLku0PrZ1vDiLZVQ 密码:x0fz
IPFS：QmPhxwvKpFsu9vEjWS49XKniPF84VG9qQzJjiMEBBPjFWa
```

## B站视频

<iframe style="height:360px;width:640px" src="//player.bilibili.com/player.html?aid=756901737&bvid=BV1xr4y1A7hg&cid=303476439&page=1&autoplay=0" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe>

## 视频文字稿

【game_start】这个春节假期，我花了大约七天的时间做了一个游戏，名字叫 Code FPS，顾名思义，就是一个FPS游戏，游戏开始界面就是这样子的啦，在展示这个游戏之前，我想先简单说下我为什么要做这个游戏，以及我是怎么做的。

【CS吧截图】在高中的时候，我就想把学校做成一幅CS地图，但是工程量太大，一直没做成。

【CSS教程pdf视频】相信不少玩CS的同学也曾有过这样的想法。现在我已经毕业很多年了，最近技术积累到了一定程度，所以萌生了一个新的想法，

【航拍照片+metashape视频】那就是把我平时上班的园区做成一个地图，这次不做CS地图，而是直接做成一个FPS游戏。地图其实很好做，我不久前发现有方法可以用一些照片生成3D模型，所以我用无人机拍了大约三百张照片，生成了整个园区的模型。我选择的软件叫metashape。这里只有一个楼顶，是我单独抠出来提高质量重新渲染的，因为我打算让玩家在这个楼顶的范围内活动，敌人从远方飞过来，玩家的任务就是保护他所在的大楼。可以看到生成的模型效果还是很不错的，很逼真。

【blender视频】生成的模型也会有一些不完美的地方，比如一些扭曲失真，还有一些悬浮在空中的小块。所以模型还是需要后期处理下。这里我选择了开源的blender。园区模型导入进去是这样子的，我做的事情就是把一些明显的空中小块给删掉，像这样子。至于扭曲失真我就不管了，能力有限。

【unity创建demo截图】游戏的制作，我选择unity，它还自带一个FPS的小游戏，我打算直接在这个游戏的基础上进行修改，这样可以极大地减少我工作量。

【unity自带demo演示】这个小游戏有两幅地图，是这样子的。我要做的就是把地图换掉，添加一些不同种类的敌人，修改游戏原本的脚本，实现关卡切换、敌人自动刷新的功能，每一关结束后可以让玩家选择一种属性加成，以及修改一下游戏平衡等等。

【unity敌人模型展示】为了方便，所有敌人我都用同一个模型了，通过大小和颜色区分。

【unity血条和代码展示】玩家的目标是守护大楼嘛，所以我还得添加一个大楼的血量条，然后新加一个脚本去控制大楼的血量。其实不难的，复制粘贴再改一点点。整个游戏制作下来我需要改动的脚本也就几个。

【unity模型展示】我们可以在这里看看模型在游戏内的效果，总体还是不错的。楼下的银行清晰可见，还有便利店，饭店，城管等等……

【unity运行游戏展示】在这里还能直接运行游戏，有些模型不大好的地方我加了些烟雾遮挡了一下。这个效果我已经很满意了。

【photoshop】除了改代码，还有一点点汉化的工作，比如这个控制按键的图片，我把英文一个个抠出来改成了中文。

【game_main】最后就是给大家看看最后的成果啦，整个游戏我设置了9关，全部打通关大约需要8到9分钟的时间。